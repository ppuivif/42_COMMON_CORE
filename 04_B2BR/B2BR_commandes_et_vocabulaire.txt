Exporter la signature de la VM :

Depuis un terminal :
type	sha1sum file.vdi (attention sha !un! sum) ⚠️

Cette opération peut prendre plusieurs minutes.

Puis comparer la signature obtenue à celle contenue dans le fichier rendu dans le git.

-------------------------------------------------------------------------------------

Cloner la VM pour ne pas modifier celle qui sera corrigée ultérieurement.

Faire la correction sur le clone.

-------------------------------------------------------------------------------------

Debian vs Rocky linux

Ce sont deux systèmes d'exploitation open-source.

Pourquoi Debian
Debian est une distribution de Linux stable, plus facile a paramétrer que Rocky linux.
Cette distribution de linux comprend un large ensemble de logiciels/services (librairies, architectures, fichiers système) facile à customiser et à mettre à jour.
//Debian < ubuntu community (gratuit) vs rocky < Red Hat community (payant à confirmer)

-------------------------------------------------------------------------------------

Qu'est-ce qu'une machine virtuelle (VM)? (s'apparente à un émulateur)

C'est un outil utilisant un logiciel (software) en lieu et place d'un ordinateur physique (hardware) permettant le fonctionnement de programmes et/ou applications.

Chaque VM a son propre système d'exploitation (Operating System), ses propres fonctions, séparément.
Il est possible d'installer plusieurs VM sur chaque ordinateur.
Une VM permet de tester des programmes et/ou applications de façon sûre et dans un environnement séparé.
Une VM fonctionne grâce à un software permettant de simuler un hardware sur une machine hôte. 

-------------------------------------------------------------------------------------

Quelle est la différence entre aptitude et APT (Advanced Packaging Tool) ?

Aptitude et APT sont des gestionnaires de paquets.
Aptitude est un gestionnaire de haut niveau, APT est un gestionnaire de bas niveau.
Aptitude est plus 'intelligent' dans le sens où il supprimera automatiquement les paquets inutilisés ou suggérera l'installation de paquets indépendants.
APT se contente d'exécuter les commandes qui lui sont données.

Pour la mise à jour d'apt :
type		su -			(pour se logger en tant que root)
type		apt-get update -y	(y pour yes à chaque prompt)
type		apt-get upgrade -y

NB pour se delogger :
type : EXIT

NB pour se logger en tant que other_username :
type : su other_username

-------------------------------------------------------------------------------------

Qu'est-ce que AppArmor ?

AppArmor est une application Linux installée par défaut sur les versions Debian récentes.
C'est un système de sécurité qui repose sur la méthode MAC (Mandatory Access Control).

Permet d'isoler les applications les unes par rapport aux autres.

Pour vérifier qu'AppArmor est bien en cours d'exécution :
type		sudo aa-status ⚠️
display		apparmor module is loaded.

-------------------------------------------------------------------------------------

Sudo (substitute user do)

Pour lancer des tâches d'administration, saisir sudo dans la ligne de commande.
Le package sudo est généralement pré-installé dans la plupart des distributions Linux.

Pour installer sudo en cas de besoin :
type		apt install sudo

Pour vérifier si sudo est installé :
type		dpkg -l | grep sudo - ⚠️

-------------------------------------------------------------------------------------

Gestion des groupes et des utilisateurs :

Pour vérifier quels sont les utilisateurs appartenant au groupe sudo :
type		getent group sudo ⚠️

Ajouter un utilisateur au groupe sudo :
type		sudo usermod -aG sudo username ⚠️

Pour accéder aux règles de configuration du groupe sudo (message s'affichant en cas d'erreur de saisie, nombre max de saisies possibles, spécification des privilèges pour chaque utilisateur) :
Pour ouvrir le fichier sudoers (/etc/sudoers):
type								sudo visudo ⚠️
find line containing user privilege specification and add	username ALL=(ALL) ALL ⚠️

Créer un groupe :
type	sudo groupadd user42 ⚠️
type	sudo groupadd evaluating

Vérifier que le groupe a bien été créé :
type	getent group ⚠️

Supprimer un groupe (qu'il contienne ou non des utilisateurs) :
type	sudo groupdel evaluating ⚠️

Vérifier tous les utilisateurs en local :
type	cut -d: -f1 /etc/passwd ⚠️

Créer un nouvel utilisateur (un mot de passe et des informations seront demandés) :
type	sudo adduser new_username ⚠️
NB : un groupe new_username est aussi créé

Ajouter un nouvel utilisateur new_username au groupe user42 :
type	sudo usermod -aG user42 new_username ⚠️

Supprimer un utilisateur username du groupe user42 :
type	sudo gpasswd -d username user42 ⚠️

Supprimer un utilisateur username et son répertoire :
type	sudo userdel -r username ⚠️

Pour afficher à quels groupes appartient l'utilisateur loggé :
type	sudo groups ⚠️

-------------------------------------------------------------------------------------

Créer sudo.log dans le répertoire home/var/log/sudo

Ce fichier va stocker la liste des commandes passées en sudo grâce à la ligne logfile dans sudoers.

-------------------------------------------------------------------------------------

Configurer le Group sudoers :

Acceder au fichier /etc/sudoers (type sudo visudo) et insérer les commandes :

Defaults	env_reset
Defaults	mail_badpass
Defaults	secure_path="/usr/local/sbin:/usr/local/bin:/usr/bin:/sbin:/bin"
Defaults	badpass_message="Password is wrong, please try again!"
Defaults	passwd_tries=3
Defaults	logfile="/var/log/sudo/sudo.log"
Defaults	log_input, log_output
Defaults	requiretty

-------------------------------------------------------------------------------------

Règles de mot de passe	(politique de mot de passe fort)

Pour les règles de mot de passe, nous utilisons la bibliothèque de vérification de la qualité des mots de passe (Password Quality Checking Library).
Il existe deux fichiers :
	- le fichier de mot de passe commun (common-password) qui définit les règles telles que les caractères majuscules et minuscules, les caractères en double, etc.
	- le fichier (login.defs) qui stocke les règles d'expiration des mots de passe (30 jours, etc.).

Pour installer la bibliothèque de vérification :
type					sudo apt-get install libpam-pwquality
type					sudo nano /etc/pam.d/common-password ⚠️
in the file, find the line		password	requisite	pam_deny.so
or find the line			password	requisite	pam_pwquality.so retry=3
add this to the end of that line	
minlen=10 ucredit=-1 lcredit=-1 dcredit=-1 maxrepeat=3 reject_username enforce_for_root difok=7	

NB : pam = Pluggable Authentification Modules

save and quit

ce qui signifie ⚠️

	minlen=10: Cela spécifie que la longueur minimale du mot de passe doit être de 10 caractères.

	ucredit=-1: Cela indique que le mot de passe doit contenir au moins une majuscule.

	lcredit=-1: Cela indique que le mot de passe doit contenir au moins une minuscule.

	dcredit=-1: Cela indique que le mot de passe doit contenir au moins un digit.

	maxrepeat=3: Cela limite le nombre maximal de caractères répétés à 3. Par exemple, "aaa" ne serait pas autorisé.

	reject_username: Cela indique que le nom d'utilisateur ne doit pas être inclus dans le mot de passe.

	difok=7: Cela spécifie le nombre minimal de caractères différents requis par rapport au mot de passe précédent (si un mot de passe précédent existe). Dans ce cas, il faut au moins 7 caractères différents.

	enforce_for_root: Cela signifie que ces règles doivent être appliquées même pour l'utilisateur root.

Pour paramétrer notamment les règles d'expiration des mots de passe :
type					sudo nano /etc/login.defs ⚠️
in the file, find the lines 		PASS_MAX_DAYS 9999
					PASS_MIN_DAYS 0
					PASS_WARN_AGE 7
				
replace with				PASS_MAX_DAYS 30
					PASS_MIN_DAYS 2
keep the same				PASS_WARN_AGE 7

save and quit

changes take effect after reboot	sudo reboot

Pour afficher les règles d'expiration des mots de passe :
type		sudo chage -l username ⚠️

Pour les utilisateurs créés avant le changement des règles de mot de passe :
type			sudo chage -m 2 username	(modifie le MIN_DAYS pour l'utilisateur username
type			sudo chage -M 30 username	(modifie le MAX_DAYS pour l'utilisateur username)
-------------------------------------------------------------------------------------

Qu'est-ce que LVM (Logical Volume Manager) ?

LVM permet de manipuler aisément les partitions ou le volume logique sur un périphérique de stockage.

Visualiser la partition :
type		lsblk ⚠️

-------------------------------------------------------------------------------------

Qu'est-ce que SSH (Secure Socket Shell) ?

C'est un protocole réseau permettant aux administrateurs d'accéder à distance à un ordinateur, en toute sécurité.
OpenSSH est un ensemble d'utilitaires qui mettent en oeuvre le protocole SSH.
Le protocole Secure Shell assure une authentification forte et des communications de données chiffrées sécurisées entre deux ordinateurs connectés sur un réseau peu sûr, tel qu'Internet. SSH est largement utilisé par les administrateurs réseau pour gérer à distance les systèmes et les applications, car il leur permet de se connecter à un autre ordinateur sur un réseau, d'exécuter des commandes et de déplacer des fichiers d'un ordinateur à un autre.
SSH fonctionne selon le modèle client-serveur, en connectant une application client Secure Shell - là où s'affiche la session - à un serveur SSH - là où s'exécute la session.

Installation de OpenSSH :
type	sudo apt install openssh-server

Vérification du status de OpenSSH :
type	sudo systemctl status ssh ⚠️

NB : type CTRL C pour echap

Les principaux fichiers de configuration se trouvent dans le répertoire /etc/ssh :
	> ssh_config : fichier de configuration client
	> sshd_config : fichier de configuration du serveur

Edition du fichier de configuration du serveur pour autoriser le port 4242 :
type			sudo nano /etc/ssh/sshd_config ⚠️
find line		#port 4242
modify line (delete #)	port 4242
add line		PermitRootLogin no
save and quit

Vérifier les réglages du port :
type			sudo grep Port /etc/ssh/sshd_config ⚠️

Redémarrage du service SSH :
type			sudo service ssh restart ⚠️

-------------------------------------------------------------------------------------

Qu'est-ce que UFW (Uncomplicated Firewall) ?

UFW est une interface permettant de modifier le firewall (en l'occurence, pour Linux, il s'agit de Netfilter).
Il permet de configurer les ports sur lesquels les connexions seront autorisées et les ports à fermer.
Il fonctionne avec le protocole SSH et permet notamment de définir un port spécifique utilisant ce port.

Installation de UFW :
type	apt-get install ufw

Activation de UFW :
type	sudo ufw enable ⚠️

Vérification du statut de UFW :
type	sudo ufw status ⚠️

Configuration des regles (autoriser SSH) :
type	sudo ufw allow ssh ⚠️

Configuration de l'autorisation d'un port SSH :
type	sudo ufw allow 4242 ⚠️
	
Verification des autorisations/statuts des ports :
type	sudo ufw status numbered ⚠️
NB : avec l'option numbered, l'ordre des ports s'affiche (règles), ce qui permet d'utiliser la commande suivante

Suppression de l'autorisation d'un port SSH :
type	sudo ufw delete 1 ⚠️

-------------------------------------------------------------------------------------

Connexion à distance : 

Pour accéder à l'adresse IP correspondant au hostname :
type	hostname -I ⚠️

Pour se connecter via un terminal :
type	ssh username@IP -p 4242 ⚠️

Pour se déconnecter dans le terminal :
type	exit ⚠️

-------------------------------------------------------------------------------------

Qu'est-ce que Cron ?

Cron ou cron job est un utilitaire de ligne de commande permettant de planifier des commandes ou des scripts à des intervalles spécifiques ou à une heure précise chaque jour. Utile si vous souhaitez configurer votre serveur pour qu'il redémarre à une heure précise chaque jour.

Installer l'outil nestat tools (utilitaire en ligne de commande permettant d'afficher l'historique de connections d'une machine) :
type		apt-get install -y net_tools

Créer dans le répertoire /bin un fichier monitoring.sh qui contiendra le script à exécuter :
type		cd /usr/local/bin/ ⚠️
type		touch monitoring.sh

Donner les autorisations en lecture, écriture et exécution à tout le monde :
type		chmod 777 monitoring.sh

Copier le texte suivant dans monitoring.sh (script de surveillance)
#!/bin/bash
arc=$(uname -a)
pcpu=$(grep "physical id" /proc/cpuinfo | sort | uniq | wc -l) 
vcpu=$(grep "^processor" /proc/cpuinfo | wc -l)
fram=$(free -m | awk '$1 == "Mem:" {print $2}')
uram=$(free -m | awk '$1 == "Mem:" {print $3}')
pram=$(free | awk '$1 == "Mem:" {printf("%.2f"), $3/$2*100}')
fdisk=$(df -BG | grep '^/dev/' | grep -v '/boot$' | awk '{ft += $2} END {print ft}')
udisk=$(df -BM | grep '^/dev/' | grep -v '/boot$' | awk '{ut += $3} END {print ut}')
pdisk=$(df -BM | grep '^/dev/' | grep -v '/boot$' | awk '{ut += $3} {ft+= $2} END {printf("%d"), ut/ft*100}')
cpul=$(top -bn1 | grep '^%Cpu' | cut -c 9- | xargs | awk '{printf("%.1f%%"), $1 + $3}')
lb=$(who -b | awk '$1 == "system" {print $3 " " $4}')
lvmu=$(if [ $(lsblk | grep "lvm" | wc -l) -eq 0 ]; then echo no; else echo yes; fi)
ctcp=$(ss -neopt state established | wc -l)
ulog=$(users | wc -w)
ip=$(hostname -I)
mac=$(ip link show | grep "ether" | awk '{print $2}')
cmds=$(journalctl _COMM=sudo | grep COMMAND | wc -l)
wall "	#Architecture: $arc
	#CPU physical: $pcpu
	#vCPU: $vcpu
	#Memory Usage: $uram/${fram}MB ($pram%)
	#Disk Usage: $udisk/${fdisk}Gb ($pdisk%)
	#CPU load: $cpul
	#Last boot: $lb
	#LVM use: $lvmu
	#Connections TCP: $ctcp ESTABLISHED
	#User log: $ulog
	#Network: IP $ip ($mac)
	#Sudo: $cmds cmd"

Signification :
#!/bin/bash
(Shebang et chemin pour indiquer que le script doit être interpété par Bash) 

arc=$(uname -a)
(La variable arc stocke les informations sur le noyau, la version du système d'exploitation, ...)

pcpu=$(grep "physical id" /proc/cpuinfo | sort | uniq | wc -l)
(Cette ligne compte le nombre de processeurs physiques en examinant le fichier /proc/cpuinfo. Il utilise grep pour extraire les lignes contenant "physical id", sort pour les trier, uniq pour les rendre uniques, et wc -l pour compter le nombre de lignes.)

vcpu=$(grep "^processor" /proc/cpuinfo | wc -l)
(Cette ligne compte le nombre de processeurs virtuels en examinant le fichier /proc/cpuinfo. Il utilise grep pour extraire les lignes commençant par "processor" et wc -l pour compter le nombre de ces lignes.)

fram=$(free -m | awk '$1 == "Mem:" {print $2}')
(La commande free -m renvoie des informations sur la mémoire disponible et utilisée. Cette ligne extrait la taille totale de la mémoire en mégaoctets.)

uram=$(free -m | awk '$1 == "Mem:" {print $3}')
(Cela extrait la quantité de mémoire utilisée en mégaoctets.)

pram=$(free | awk '$1 == "Mem:" {printf("%.2f"), $3/$2*100}')
(Cela calcule le pourcentage de mémoire utilisée en divisant la mémoire utilisée par la mémoire totale et en multipliant par 100. Le résultat est formaté avec deux chiffres après la virgule.)

fdisk=$(df -BG | grep '^/dev/' | grep -v '/boot$' | awk '{ft += $2} END {print ft}')
(Cela calcule la taille totale du disque en gigaoctets en examinant la sortie de la commande df -BG.)

udisk=$(df -BM | grep '^/dev/' | grep -v '/boot$' | awk '{ut += $3} END {print ut}')
(Cela calcule l'utilisation du disque en mégaoctets en examinant la sortie de la commande df -BM.)

pdisk=$(df -BM | grep '^/dev/' | grep -v '/boot$' | awk '{ut += $3} {ft+= $2} END {printf("%d"), ut/ft*100}')
(Cette ligne utilise top pour obtenir des informations sur l'utilisation du CPU, puis utilise grep, cut, xargs, et awk pour extraire et calculer le pourcentage d'utilisation du CPU.)

cpul=$(top -bn1 | grep '^%Cpu' | cut -c 9- | xargs | awk '{printf("%.1f%%"), $1 + $3}')
(Cette ligne utilise top pour obtenir des informations sur l'utilisation du CPU, puis utilise grep, cut, xargs, et awk pour extraire et calculer le pourcentage d'utilisation du CPU.)

lb=$(who -b | awk '$1 == "system" {print $3 " " $4}')
(La commande who -b renvoie la date et l'heure du dernier démarrage du système, et awk est utilisé pour extraire ces informations.)

lvmu=$(if [ $(lsblk | grep "lvm" | wc -l) -eq 0 ]; then echo no; else echo yes; fi)
(Cette ligne vérifie si LVM (Logical Volume Manager) est utilisé sur le système en examinant la sortie de la commande lsblk.)

ctcp=$(ss -neopt state established | wc -l)
(Cela compte le nombre de connexions TCP établies en utilisant la commande ss.)

ulog=$(users | wc -w)
(Cela compte le nombre d'utilisateurs actuellement connectés en utilisant la commande users.)

ip=$(hostname -I)
(Cela obtient l'adresse IP du système en utilisant hostname -I.)

mac=$(ip link show | grep "ether" | awk '{print $2}')
(Cela obtient l'adresse MAC du système en utilisant ip link show et en filtrant les lignes contenant "ether" avec grep.)

cmds=$(journalctl _COMM=sudo | grep COMMAND | wc -l)
(Cette ligne compte le nombre de commandes exécutées avec sudo en examinant les journaux système avec journalctl.)

wall "	
(Enfin, cette ligne utilise la commande wall pour envoyer un message au mur système, affichant toutes les informations collectées précédemment. Les variables sont insérées dans le message pour afficher les données extraites.)
	
	#Architecture: $arc
	#CPU physical: $pcpu
	#vCPU: $vcpu
	#Memory Usage: $uram/${fram}MB ($pram%)
	#Disk Usage: $udisk/${fdisk}Gb ($pdisk%)
	#CPU load: $cpul
	#Last boot: $lb
	#LVM use: $lvmu
	#Connections TCP: $ctcp ESTABLISHED
	#User log: $ulog
	#Network: IP $ip ($mac)
	#Sudo: $cmds cmd"

Pour accéder aux instructions permettant de définir le chemin du fichier monitoring.sh et la périodicité d'affichage du script : 
type			sudo crontab -u root -e ⚠️
modify line		*/10 * * * * /usr//local/bin/monitoring.sh	(toutes les 10 minutes)
modify line		*/1 * * * * /usr//local/bin/monitoring.sh	(toutes les 1 minute)
save and quit

-------------------------------------------------------------------------------------

 










-------------------------------------------------------------------------------------








kdump est une fonctionnalité du noyau Linux qui crée des vidages sur incident en cas de crash du noyau.

SELinux (Security-Enhanced Linux) et AppArmor : module de securite noyau linux


SU : Changer de user :
	su <id> = change user > id
	su - + change user > root


INSTALATION : APT
Paquets : fichier compresses servant a installer des logiciels/services
APT gestionnaire de paquet
Aptitude gestionnaire graphique de paquets sur le gestionnaire APT

	apt-get update -y
	apt-get upgrade -y

	apt-get install sudo
	apt-get install git -y
	apt-get install vim -y	
	apt-get install openssh-server
	apt-get install ufw -y
	apt-get install libpam-pwquality
	apt-get install -y net-tools

SUDO
	instalation de sudo
	
	Ajoute utilisateur a sudo
		usermod -aG sudo your_username 
	Ouvre fichier reglage de init
		sudo visudo 
	
		# User privilege specification
		root    ALL=(ALL:ALL) ALL
		bchene  ALL=(ALL:ALL) ALL

		# Allow members of group sudo to execute any command
		%sudo   ALL=(ALL:ALL) ALL
		bchene ALL=(root) NOPASSWD: /usr/local/bin/monitoring.sh

	gestion des sudoers
		sudo visudo
	logfile liste des commande utiliser avec sudo (trace)
		logfile="/var/log/sudo.log"
		
	
SSH :
SSH (Secure Socket Shell = Connexion Shell sécurisée)
Protocole réseau permettant aux administrateurs d'accéder à distance à un ordinateur, en toute sécurité.

SSH OpenSSH:
OpenSSH est un ensemble d'outils utilisant le protocole SSH. SSH permet de faire des connexions sécurisées entre un serveur et client, permettant le contrôle à distance, ou encore le transfert de fichiers.
	
	installation de open SSH
	check status ssh
		sudo systemctl status ssh
		
	Les principaux fichiers de configuration se trouvent dans le répertoire /etc/ssh :
	> ssh_config : fichier de configuration client
	> sshd_config : fichier de configuration du serveur
		
	edition du fichier config ssh serveur
		vim /etc/ssh/sshd_config
			port 4242
			PermitRootLogin no
	restart ssh
		sudo service ssh restart


UFW
Uncomplicated Firewall (UFW) est un programme informatique pour gérer un pare-feu (en l'occurence, pour Linux, il s'agir de Netfilter).
Il est utilisé pour configurer les ports auxquels les connexions seront autorisées et les ports à fermer.
Il fonctionne avec le protocole SSH.
	
	installation de UFW
	Activer UFW
		sudo ufw enable
	configurer des regles // autoriser ssh
		sudo ufw allow ssh
	configurer l'autorisation des ports ssh
		sudo ufw allow 4242
	Verifier les autorisation/statuts de UFW
		sudo ufw status numbered


Utilisation SSH :
	
	relancer le server ssh
		sudo service sshd restart
	relancer le client ssh
		sudo service ssh status
	connaitre l ip pour lancer ssh sur terminal
		sudo ifconfig
	se connecter a la VM via un terminal a la dresse ip au port 4242
		ssh <id_user>@<ip> -p 4242

Politique de mot de pass : libpam-pwquality / pam_cracklib
	
	installation de libpam-pwquality
	edition du fichier de config de commom-password
		sudo vim /etc/pam.d/common-password
	edition login def pour changer limiter les mots de pass dans le temps (30j)
		sudo vim /etc/login.defs
		
		sudo reboot

Creer un groupe

	creation
		sudo groupadd <nom_groupe>
	affichage tous les groupes
		getent group
	affiche les group
		groups
	
Creer un utilisateur

	affichage de tous les utilisateurs
		cut -d: -f1 /etc/passwd
	creation
		sudo adduser <user_name>
	ajout de l utilisateur au groupe
		sudo usermod -aG <groupe> <user_name>
	verifier quelles user sont dans le groupe
		getent group <groupe>
	affiche les groupes auquel appartient un utilisateur
		sudo grep <user_name> /etc/group | cut -d: -f1
	Verifie le mot pass si il est a la regle
		chage -l <user_name>

Crontab
Crontab est un outil qui permet de lancer des applications de façon régulière, pratique pour un serveur pour y lancer des scripts de sauvegardes, etc.

	sudo crontab -u root -e
	*/10 * * * * /usr/local/bin/monitoring.sh

Pour l'evale

Les questions d'évaluation
Pourquoi ai-je choisi Debian ?
Plus facile à installer et à configurer, donc meilleur pour les serveurs personnels.

Différence entre Debian et Rocky ?
- a faire

Qu'est-ce qu'une machine virtuelle ?
Est une ressource qui utilise un logiciel au lieu d’un ordinateur physique pour exécuter des programmes ou des applications. Chaque VM possède son propre système d'exploitation et fonctionne séparément, vous pouvez donc avoir plus d'une VM par machine. Peut être utilisé pour tester des applications dans un environnement sûr et séparé. Fonctionne en utilisant un logiciel pour simuler du matériel virtuel et s'exécute sur une machine hôte.

Quelle est la différence entre aptitude et APT (Advanced Packaging Tool) ?
- Aptitude est un gestionnaire de packages de haut niveau tandis qu'APT est un niveau inférieur qui peut être utilisé par d'autres gestionnaires de packages de niveau supérieur.
- Aptitude est plus intelligent et supprimera automatiquement les packages inutilisés ou suggérera l'installation de packages dépendants
- Apt ne fera explicitement que ce qui lui est demandé de faire dans la ligne de commande

Qu’est-ce qu’AppArmor ?
Système de sécurité Linux qui fournit la sécurité du contrôle d'accès obligatoire (MAC). Permet à l'administrateur système de restreindre les actions que les processus peuvent effectuer. Il est inclus par défaut avec Debian. Exécutez aa-status pour vérifier s'il est en cours d'exécution.

Règles de mot de passe
Pour les règles de mot de passe, nous utilisons la bibliothèque de vérification de la qualité des mots de passe et il existe deux fichiers : le fichier de mot de passe commun qui définit les règles telles que les caractères majuscules et minuscules, les caractères en double, etc. et le fichier login.defs qui stocke les règles d'expiration des mots de passe (30 jours, etc.). Sudo nano /etc/login.defs Sudo nano /etc/pam.d/common-password

Qu'est-ce que LVM
Logical Volume Manager – nous permet de manipuler facilement les partitions ou le volume logique sur un périphérique de stockage.

UFW (pare-feu simple)
UFW est une interface pour modifier le pare-feu de l'appareil sans compromettre la sécurité. Vous l'utilisez pour configurer les ports auxquels autoriser les connexions et les ports à fermer. Ceci est utile en conjonction avec SSH, vous pouvez définir un port spécifique avec lequel fonctionner.

Qu’est-ce que SSH ?
SSH ou Secure Shell est un mécanisme d'authentification entre un client et un hôte. Il utilise des techniques de cryptage afin que toutes les communications entre les clients et les hôtes se fassent sous forme cryptée. Les utilisateurs sous Mac ou Linux peuvent utiliser SSH le terminal pour travailler sur leur serveur via SSH.

Qu’est-ce que Cron ?
Cron ou cron job est un utilitaire de ligne de commande permettant de planifier des commandes ou des scripts à des intervalles spécifiques ou à une heure précise chaque jour. Utile si vous souhaitez configurer votre serveur pour qu'il redémarre à une heure précise chaque jour.

	cd /usr/local/bin– pour afficher monitoring.sh
	sudo crontab -u root -e– pour éditer la tâche cron
	change script to */1 * * * * sleep 30s && script path– pour l’exécuter toutes les 	
	30 secondes, supprimez la ligne pour arrêter l’exécution du travail.

Commandes d'évaluation pour UFW, Group, Host, lsblk et SSH

- sudo ufw status

- sudo systemctl status ssh

- getent group sudo
- getent group user42

- sudo adduser new username
- sudo groupadd groupname
- sudo usermod -aG groupname username
- sudo chage -l username- vérifier les règles d'expiration du mot de passe

- hostnamectl
- hostnamectl set-hostname new_hostname- pour changer le nom d'hôte actuel

- Redémarrez votre machine virtuelle.

- sudo nano /etc/hosts- changer le nom d'hôte actuel en nouveau nom d'hôte

- lsblk pour afficher les partitions

- dpkg -l | grep sudo –pour montrer que sudo est installé

- sudo ufw status numbered
- sudo ufw allow port-id
- sudo ufw delete rule number

- ssh your_user_id@127.0.0.1 -p 4242- faites ceci dans le terminal pour montrer que SSH sur le port 4242 fonctionne


